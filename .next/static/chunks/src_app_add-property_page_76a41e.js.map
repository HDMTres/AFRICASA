{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/add-property/page.js"],"sourcesContent":["\"use client\"\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './styles.css';\r\n\r\nconst AddProperty = () => {\r\n  const [propertyData, setPropertyData] = useState({\r\n    address: '',\r\n    coverPhoto: null,\r\n    propertyType: '',\r\n    price: 0,\r\n    title: '',\r\n    rooms: 0,\r\n    baths: 0,\r\n    purpose: '',\r\n    sqSize: 0,\r\n    externalID: '',\r\n    photos: [],\r\n    description: '',\r\n    coverVideo: null,\r\n    panorama: null,\r\n    amenities: [],\r\n    furnished: ''\r\n  });\r\n\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPropertyData({\r\n      ...propertyData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const { name, files } = e.target;\r\n    setPropertyData({\r\n      ...propertyData,\r\n      [name]: files.length > 1 ? [...files] : files[0],\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      for (const key in propertyData) {\r\n        if (Array.isArray(propertyData[key])) {\r\n          propertyData[key].forEach((file, index) => {\r\n            formData.append(`${key}[${index}]`, file);\r\n          });\r\n        } else {\r\n          formData.append(key, propertyData[key]);\r\n        }\r\n      }\r\n\r\n       const token = localStorage.getItem(\"authToken\")\r\n\r\n      const response = await axios.post('http://127.0.0.1:8080/properties/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Redirection ou feedback après succès\r\n        console.log('Propriété ajoutée avec succès');\r\n      } else {\r\n        setErrorMessage('Veuillez remplir tous les champs correctement.');\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage(\"Erreur lors de l'ajout de la propriété\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-property-container\">\r\n      <h1>Ajouter une Propriété</h1>\r\n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n      <form className=\"add-property-form\" onSubmit={handleSubmit}>\r\n\r\n        <div className=\"form-section\">\r\n          <h2 className=\"section-title\">Informations Générales</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Adresse</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"address\"\r\n              value={propertyData.address}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Type de propriété</label>\r\n            <select\r\n              name=\"propertyType\"\r\n              value={propertyData.propertyType}\r\n              onChange={handleChange}\r\n              required\r\n            >\r\n              <option value=\"\">Sélectionner</option>\r\n              <option value=\"maison\">Maison</option>\r\n              <option value=\"appartement\">Appartement</option>\r\n              <option value=\"terrain\">Terrain</option>\r\n              <option value=\"autre\">Autre (Précisez)</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Prix</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={propertyData.price}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Titre</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={propertyData.title}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Description</label>\r\n            <textarea\r\n              name=\"description\"\r\n              value={propertyData.description}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-section\">\r\n          <h2 className=\"section-title\">Détails et Médias</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Photo de couverture</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"coverPhoto\"\r\n              onChange={handleFileChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Photos</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"photos\"\r\n              onChange={handleFileChange}\r\n              multiple\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Vidéo de couverture</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"coverVideo\"\r\n              onChange={handleFileChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Panorama</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"panorama\"\r\n              onChange={handleFileChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Équipements</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"amenities\"\r\n              value={propertyData.amenities.join(',')}\r\n              onChange={(e) =>\r\n                setPropertyData({ ...propertyData, amenities: e.target.value.split(',') })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Meublé</label>\r\n            <select\r\n              name=\"furnished\"\r\n              value={propertyData.furnished}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">Sélectionner</option>\r\n              <option value=\"oui\">Oui</option>\r\n              <option value=\"non\">Non</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"submit-button\">Ajouter</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProperty;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}