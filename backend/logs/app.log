{"timestamp":"2025-06-30T21:35:53.806Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","msg":"Rôle invalide. Doit être \"user\" ou \"agent\"","path":"role","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-06-30T21:36:45.815Z","level":"ERROR","message":"Erreur lors du chargement du template email","type":"email","template":"email-verification","error":"ENOENT: no such file or directory, open 'C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\templates\\email-verification.html'"}
{"timestamp":"2025-06-30T21:36:45.817Z","level":"ERROR","message":"Erreur lors de l'envoi d'email","type":"email","to":"test@africasa.com","subject":"Vérifiez votre adresse email - AFRICASA","error":"Template email-verification non trouvé"}
{"timestamp":"2025-06-30T21:36:45.818Z","level":"INFO","message":"Nouvel utilisateur créé","type":"auth","action":"user_created","userId":"6863036d355503e298d1290c","email":"test@africasa.com","role":"user","ip":"::1"}
{"timestamp":"2025-06-30T21:37:35.326Z","level":"WARN","message":"Tentative de connexion échouée","type":"auth","action":"login_failed","email":"test@africasa.com","ip":"::1","reason":"Compte non activé"}
{"timestamp":"2025-06-30T21:40:21.386Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T21:47:00.953Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T21:48:53.052Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T21:53:34.146Z","level":"ERROR","message":"Erreur lors du chargement du template email","type":"email","template":"email-verification","error":"ENOENT: no such file or directory, open 'C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\templates\\email-verification.html'"}
{"timestamp":"2025-06-30T21:53:34.148Z","level":"ERROR","message":"Erreur lors de l'envoi d'email","type":"email","to":"skopygm@gmail.com","subject":"Vérifiez votre adresse email - AFRICASA","error":"Template email-verification non trouvé"}
{"timestamp":"2025-06-30T21:53:34.149Z","level":"INFO","message":"Nouvel utilisateur créé","type":"auth","action":"user_created","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","role":"user","ip":"::1"}
{"timestamp":"2025-06-30T21:53:55.604Z","level":"WARN","message":"Tentative de connexion échouée","type":"auth","action":"login_failed","email":"skopygm@gmail.com","ip":"::1","reason":"Compte non activé"}
{"timestamp":"2025-06-30T21:56:32.812Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-06-30T22:11:07.102Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1 TEST","msg":"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","path":"fullName","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-06-30T22:11:19.814Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1 TEST","msg":"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","path":"fullName","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-06-30T22:19:48.976Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:23:54.887Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:33:10.754Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:34:38.524Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:36:32.758Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:40:44.827Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:46:01.298Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:50:57.480Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:52:14.536Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:55:28.324Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-06-30T22:57:25.558Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-06-30T23:35:10.759Z","level":"INFO","message":"Utilisateur mis à jour","type":"user","action":"user_updated","userId":"6863075d355503e298d12919","hasNewPhoto":false,"ip":"::1"}
{"timestamp":"2025-06-30T23:41:11.076Z","level":"INFO","message":"Utilisateur mis à jour","type":"user","action":"user_updated","userId":"6863075d355503e298d12919","hasNewPhoto":false,"ip":"::1"}
{"timestamp":"2025-06-30T23:45:19.901Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-06-30T23:45:48.396Z","level":"INFO","message":"Utilisateur mis à jour","type":"user","action":"user_updated","userId":"6863075d355503e298d12919","hasNewPhoto":false,"ip":"::1"}
{"timestamp":"2025-07-01T00:24:53.643Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-07-01T09:54:09.859Z","level":"INFO","message":"Utilisateur mis à jour","type":"user","action":"user_updated","userId":"6863075d355503e298d12919","hasNewPhoto":true,"ip":"::1"}
{"timestamp":"2025-07-01T21:23:12.793Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-01T22:22:06.556Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-01T23:27:39.011Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-01T23:44:55.465Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-01T23:45:06.508Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-07-02T09:16:56.918Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-07-02T09:25:38.872Z","level":"WARN","message":"Tentative de connexion échouée","type":"auth","action":"login_failed","email":"skopygm@gmail.com","ip":"::1","reason":"Mot de passe incorrect"}
{"timestamp":"2025-07-02T09:25:47.117Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-02T09:54:33.396Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863036d355503e298d1290c","email":"test@africasa.com","ip":"::1"}
{"timestamp":"2025-07-02T10:09:51.782Z","level":"INFO","message":"Connexion réussie","type":"auth","action":"login_success","userId":"6863075d355503e298d12919","email":"skopygm@gmail.com","ip":"::1"}
{"timestamp":"2025-07-02T10:28:36.347Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:29:03.237Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:29:49.276Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:30:06.482Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:30:07.810Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:30:10.606Z","level":"WARN","message":"Erreurs de validation","type":"validation","errors":[{"type":"field","value":"Test1234","msg":"Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractère spécial","path":"password","location":"body"}],"ip":"::1","path":"/register"}
{"timestamp":"2025-07-02T10:30:49.943Z","level":"ERROR","message":"Erreur lors de la création d'utilisateur","type":"auth","error":"connection <monitor> to [::1]:27017 closed","stack":"MongoServerSelectionError: connection <monitor> to [::1]:27017 closed\n    at Topology.selectServer (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\lib\\query.js:2687:15)\n    at async model.Query.exec (C:\\Users\\balih\\OneDrive\\Bureau\\ProjetAFR\\AFRICASA\\backend\\node_modules\\mongoose\\lib\\query.js:4604:63)","ip":"::1"}
